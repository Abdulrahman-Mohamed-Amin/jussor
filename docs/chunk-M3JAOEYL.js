import{a as G}from"./chunk-XBIZZVVN.js";import{h as k}from"./chunk-3QQLVUTH.js";import"./chunk-NQ4YHR6A.js";import"./chunk-QAAYAOSG.js";import{a as A,b as f,c as j,d as N,e as h,f as d,g as O,h as V,i as M,o as D}from"./chunk-LXA24ENW.js";import{Na as _,Oa as y,Za as g,_ as b,ab as x,eb as v,fb as S,gb as T,ha as m,hb as w,ia as c,ib as t,jb as i,kb as F,nb as C,pb as a,qb as s,ub as n,vb as E,yb as P}from"./chunk-5G5WSGSK.js";function z(p,r){if(p&1){let e=C();t(0,"form",12),a("ngSubmit",function(){m(e);let u=s();return c(u.sendEditRequest())}),t(1,"i",13),a("click",function(){m(e);let u=s();return c(u.openEditForm=!1)}),i(),t(2,"h2",14),n(3,"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062D\u0627\u0644\u0629"),i(),t(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),n(8,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0627\u0644\u0629 \u0639\u0631\u0628\u064A "),t(9,"span"),n(10,"*"),i()(),t(11,"input",15),a("input",function(u){m(e);let l=s();return c(l.allowArabicOnly(u))}),i()()(),t(12,"div",3)(13,"div",4)(14,"label",7),n(15,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0646\u062C\u0644\u064A\u0632\u064A "),t(16,"span"),n(17,"*"),i()(),t(18,"input",16),a("input",function(u){m(e);let l=s();return c(l.allowEnglishOnly(u))}),i()()(),t(19,"button",9),n(20,"\u0627\u0631\u0633\u0627\u0644"),i()()(),F(21,"div",17)}if(p&2){let e=s();x("formGroup",e.editForm)}}function R(p,r){if(p&1){let e=C();t(0,"tr")(1,"td"),n(2),i(),t(3,"td")(4,"button",18),a("click",function(){let u=m(e).$implicit,l=s();return c(l.editType(u.id,u))}),n(5," \u062A\u0639\u062F\u064A\u0644 "),i(),t(6,"button",19),a("click",function(){let u=m(e),l=u.$implicit,I=u.$index,$=s();return c($.deleteType(I,l.id))}),n(7," \u062D\u0630\u0641 "),i()()()}if(p&2){let e=r.$implicit;_(2),E(e.arName)}}var q=class p{constructor(r,e){this._typeService=r;this.toast=e}types=[];openEditForm=!1;typesForm=new h({enName:new d("",f.required),arName:new d("",f.required)});editForm=new h({id:new d(""),enName:new d("",f.required),arName:new d("",f.required)});ngOnInit(){this.gettypes()}addType(){this.typesForm.valid?(this.types.push(this.typesForm.value),console.log(this.typesForm.value),this._typeService.addProjecttype(this.typesForm.value).subscribe({next:r=>{this.toast.success("\u062A\u0645\u062A \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D"),this.typesForm.reset()},error:()=>{this.toast.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627")},complete:()=>{}})):this.toast.error("\u0628\u0639\u0636 \u0627\u0644\u062D\u0642\u0648\u0644 \u0641\u0627\u0631\u063A\u0629")}gettypes(){this._typeService.getALltype().subscribe(r=>{this.types=r})}editType(r,e){this.openEditForm=!0,this.editForm.patchValue({id:e.id,enName:e.enName,arName:e.arName})}sendEditRequest(){this.editForm.valid?this._typeService.edittype(this.editForm.value).subscribe({next:r=>{this.toast.success("\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062D\u0627\u0644\u0629")},error:()=>{this.toast.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627")},complete:()=>{setTimeout(()=>{window.location.reload()},1e3)}}):this.toast.error("\u0628\u0639\u0636 \u0627\u0644\u062D\u0642\u0648\u0644 \u0641\u0627\u0631\u063A\u0629")}deleteType(r,e){this._typeService.deleteType(e).subscribe({next:o=>{this.types.splice(r,1),this.toast.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062D\u0627\u0644\u0629 \u0628\u0646\u062C\u0627\u062D")},error:o=>{this.toast.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627")}})}allowEnglishOnly(r){let e=r.target;e.value=e.value.replace(/[^a-zA-Z0-9 ]/g,"")}allowArabicOnly(r){let e=r.target;e.value=e.value.replace(/[^ุก-ู\s\u0621-\u064A]/g,"")}static \u0275fac=function(e){return new(e||p)(y(G),y(k))};static \u0275cmp=b({type:p,selectors:[["app-project-type"]],standalone:!0,features:[P],decls:34,vars:2,consts:[[1,"container","dash_table"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","col-12"],[1,"form-group"],["for","artitle"],["type","text","id","artitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637","formControlName","arName",1,"form-control",3,"input"],["for","entitle"],["type","text","id","entitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A\u0629 \u0641\u0642\u0637","formControlName","enName",1,"form-control",3,"input"],[1,"dash_btn"],[1,"mt-5"],[1,"project-table"],[1,"hidden_form",3,"ngSubmit","formGroup"],[1,"fas","fa-xmark","close",3,"click"],[1,"text-center"],["autocomplete","off","type","text","id","artitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637","formControlName","arName",1,"form-control",3,"input"],["autocomplete","off","type","text","id","entitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A\u0629 \u0641\u0642\u0637","formControlName","enName",1,"form-control",3,"input"],[1,"lay"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"h2"),n(2,"\u0627\u0636\u0627\u0641\u0629 \u062D\u0627\u0644\u0629 \u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F\u0629"),i(),t(3,"form",1),a("ngSubmit",function(){return o.addType()}),t(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),n(8,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0627\u0644\u0629 \u0639\u0631\u0628\u064A "),t(9,"span"),n(10,"*"),i()(),t(11,"input",6),a("input",function(l){return o.allowArabicOnly(l)}),i()()(),t(12,"div",3)(13,"div",4)(14,"label",7),n(15,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0646\u062C\u0644\u064A\u0632\u064A "),t(16,"span"),n(17,"*"),i()(),t(18,"input",8),a("input",function(l){return o.allowEnglishOnly(l)}),i()()(),t(19,"button",9),n(20,"\u0627\u0631\u0633\u0627\u0644"),i()()(),g(21,z,22,1),t(22,"h2",10),n(23,"\u0627\u0644\u062D\u0627\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629"),i(),t(24,"table",11)(25,"thead")(26,"tr")(27,"th"),n(28,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0627\u0644\u0629"),i(),t(29,"th"),n(30,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),i()()(),t(31,"tbody"),T(32,R,8,1,"tr",null,S),i()()()),e&2&&(_(3),x("formGroup",o.typesForm),_(18),v(o.openEditForm?21:-1),_(11),w(o.types))},dependencies:[D,O,A,j,N,V,M],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#333}label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main)}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ccc;border-radius:6px;font-size:15px;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 2px #007bff1a}.hidden_form[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%,-50%);background:#fff;box-shadow:var(--shadow);border-radius:15px;padding:15px 25px;width:50%;height:300px;z-index:5}.lay[_ngcontent-%COMP%]{position:fixed;z-index:3;background:#0000008c;top:0;left:0;width:100%;height:100vh}.close[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;color:var(--blue);cursor:pointer}"]})};export{q as ProjectTypeComponent};
