import{a as z}from"./chunk-XBIZZVVN.js";import{a as H}from"./chunk-M4GPAM2F.js";import{a as A}from"./chunk-QAAYAOSG.js";import{a as M,b as s,c as w,d as F,e as T,f as a,g as N,h as I,i as O,j as D,k as q,l as V,o as G}from"./chunk-LXA24ENW.js";import{Na as m,Oa as d,Q as C,V as y,Za as x,_ as h,ab as f,eb as b,gb as _,hb as S,ib as e,jb as u,kb as j,pb as c,qb as P,ub as i,vb as g,yb as E}from"./chunk-5G5WSGSK.js";var v=class r{constructor(t){this.http=t}url="https://realstatesaudi.runasp.net/api/Project";addProject(t){return this.http.post(this.url,t)}getAllProjects(){return this.http.get(this.url)}static \u0275fac=function(n){return new(n||r)(y(A))};static \u0275prov=C({token:r,factory:r.\u0275fac,providedIn:"root"})};var L=(r,t)=>t.id;function R(r,t){if(r&1&&(e(0,"div",19),i(1),u()),r&2){let n=P();m(),g(n.errorMessage)}}function W(r,t){if(r&1&&(e(0,"option",23),i(1),u()),r&2){let n=t.$implicit;f("value",+n.id),m(),g(n.arName)}}function Z(r,t){if(r&1&&(e(0,"option",23),i(1),u()),r&2){let n=t.$implicit;f("value",+n.id),m(),g(n.arName)}}var k=class r{constructor(t,n,o){this._types=t;this._status=n;this._projects=o}types=[];status=[];projects=[];errorMessage="";addForm=new T({arTitle:new a("",s.required),arDescription:new a("",s.required),enTitle:new a("",s.required),enDescription:new a("",s.required),locationName:new a("",s.required),locationUrl:new a("",s.required),latitude:new a(0),longitude:new a(0),videoFile:new a(null),videoPath:new a(null),imageFiles:new a(null),projectImages:new a([]),projectStatusId:new a(null,s.required),projectTypeId:new a(null,s.required)});ngOnInit(){this.getTypes(),this.getStatus(),this.getProjects()}getStatus(){this._status.getALlStatus().subscribe(t=>{this.status=t})}getTypes(){this._types.getALltype().subscribe(t=>{this.types=t})}addProject(){let t=this.addForm.value;t.projectStatusId=Number(t.projectStatusId),t.projectTypeId=Number(t.projectTypeId),this._projects.addProject(this.addForm.value).subscribe(n=>{console.log(n)}),console.log(this.addForm.value)}getProjects(){this._projects.getAllProjects().subscribe(t=>{this.projects=t})}allowEnglishOnly(t){let n=t.target;n.value=n.value.replace(/[^a-zA-Z0-9 ]/g,"")}allowArabicOnly(t){let n=t.target;n.value=n.value.replace(/[^ุก-ู\s\u0621-\u064A]/g,"")}validateVideo(t){let n=t.target,o=n.files?.[0];if(o){let p=o.type.startsWith("video/"),l=o.size>10*1024*1024;p?l?(this.errorMessage="\u0627\u0644\u0645\u0644\u0641 \u0623\u0643\u0628\u0631 \u0645\u0646 10 \u0645\u064A\u063A\u0627\u0628\u0627\u064A\u062A",n.value=""):this.errorMessage="":(this.errorMessage="\u0627\u0644\u0645\u0644\u0641 \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0641\u064A\u062F\u064A\u0648 \u0641\u0642\u0637",n.value="")}}static \u0275fac=function(n){return new(n||r)(d(z),d(H),d(v))};static \u0275cmp=h({type:r,selectors:[["app-manage-projects"]],standalone:!0,features:[E],decls:82,vars:2,consts:[[1,"container"],[1,"",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","col-12"],[1,"form-group"],["for","artitle"],["type","text","id","artitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637","formControlName","arTitle",1,"form-control",3,"input"],["for","entitle"],["type","text","id","entitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A\u0629 \u0641\u0642\u0637","formControlName","enTitle",1,"form-control",3,"input"],["for","ardes"],["type","text","id","ardes","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637","formControlName","arDescription",1,"form-control",3,"input"],["for","endes"],["type","text","id","endes","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A\u0629 \u0641\u0642\u0637","formControlName","enDescription",1,"form-control",3,"input"],["for","adress"],["type","text","id","adress","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637","formControlName","locationName",1,"form-control",3,"input"],["for","location"],["type","text","id","location","placeholder","\u0627\u062F\u062E\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u0645\u0648\u0642\u0639","formControlName","locationUrl",1,"form-control"],["for","vedio"],["type","file","id","vedio","placeholder","\u0641\u064A\u062F\u064A\u0648 \u0641\u0642\u0637","formControlName","videoPath",1,"form-control",3,"change"],[1,"text-danger","error"],["for","status"],["type","file","accept","image/*","multiple","","formControlName","projectImages",1,"form-control"],["formControlName","projectStatusId","id","status",1,"form-select"],[3,"value"],["for","types"],["formControlName","projectTypeId","id","types",1,"form-select"],[1,"dash_btn"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"form",1),c("ngSubmit",function(){return o.addProject()}),e(2,"h2"),i(3,"\u0627\u0636\u0627\u0641\u0629 \u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F"),u(),e(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),i(8,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0639\u0631\u0628\u064A "),e(9,"span"),i(10,"*"),u()(),e(11,"input",6),c("input",function(l){return o.allowArabicOnly(l)}),u()()(),e(12,"div",3)(13,"div",4)(14,"label",7),i(15,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0646\u062C\u0644\u064A\u0632\u064A "),e(16,"span"),i(17,"*"),u()(),e(18,"input",8),c("input",function(l){return o.allowEnglishOnly(l)}),u()()(),e(19,"div",3)(20,"div",4)(21,"label",9),i(22,"\u0648\u0635\u0641 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0639\u0631\u0628\u064A "),e(23,"span"),i(24,"*"),u()(),e(25,"input",10),c("input",function(l){return o.allowArabicOnly(l)}),u()()(),e(26,"div",3)(27,"div",4)(28,"label",11),i(29,"\u0648\u0635\u0641 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0646\u062C\u0644\u064A\u0632\u064A "),e(30,"span"),i(31,"*"),u()(),e(32,"input",12),c("input",function(l){return o.allowEnglishOnly(l)}),u()()(),e(33,"div",3)(34,"div",4)(35,"label",13),i(36,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0639\u0631\u0628\u064A "),e(37,"span"),i(38,"*"),u()(),e(39,"input",14),c("input",function(l){return o.allowArabicOnly(l)}),u()()(),e(40,"div",3)(41,"div",4)(42,"label",15),i(43,"\u0645\u0648\u0642\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 "),e(44,"span"),i(45,"*"),u()(),j(46,"input",16),u()(),e(47,"div",3)(48,"div",4)(49,"label",17),i(50,"\u0627\u062E\u062A\u0631 \u0641\u064A\u062F\u064A\u0648 "),e(51,"span"),i(52,"*"),u()(),e(53,"input",18),c("change",function(l){return o.validateVideo(l)}),u()(),x(54,R,2,1,"div",19),u(),e(55,"div",3)(56,"div",4)(57,"label",20),i(58,"\u0627\u062E\u062A\u0631 \u0635\u0648\u0631 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 "),e(59,"span"),i(60,"*"),u()(),j(61,"input",21),u()(),e(62,"div",3)(63,"div",4)(64,"label",20),i(65,"\u0627\u062E\u062A\u0631 \u062D\u0627\u0644\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 "),e(66,"span"),i(67,"*"),u()(),e(68,"select",22),_(69,W,2,2,"option",23,L),u()()(),e(71,"div",3)(72,"div",4)(73,"label",24),i(74,"\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 "),e(75,"span"),i(76,"*"),u()(),e(77,"select",25),_(78,Z,2,2,"option",23,L),u()()()(),e(80,"button",26),i(81,"\u0627\u0631\u0633\u0627\u0644"),u()()()),n&2&&(m(),f("formGroup",o.addForm),m(53),b(o.errorMessage?54:-1),m(15),S(o.status),m(9),S(o.types))},dependencies:[G,N,q,V,M,D,w,F,I,O],styles:["h2[_ngcontent-%COMP%]{color:#fff;background:var(--main);padding:5px 10px;margin:0 auto 30px;width:fit-content;border-radius:10px}.col-12[_ngcontent-%COMP%]{margin-bottom:30px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#333}label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main)}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ccc;border-radius:6px;font-size:15px;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 2px #007bff1a}.error[_ngcontent-%COMP%]{font-size:12px}"]})};export{k as ManageProjectsComponent};
