import{a as D}from"./chunk-FPHNN23D.js";import{b as P,c as f,d as j,e as N,f as C,g as d,h as V,i as O,j as k,p as M}from"./chunk-5PTRB7GT.js";import{h as G}from"./chunk-3AVQGZ6B.js";import{Ha as g,Ka as y,Oa as v,Pa as S,Qa as T,Ra as w,Sa as e,Ta as i,Ua as E,X as b,Xa as h,Za as a,_a as p,cb as n,db as F,ea as m,fa as c,gb as A,va as _,wa as x}from"./chunk-C2FQAVCM.js";function z(s,u){if(s&1){let t=h();e(0,"form",13),a("ngSubmit",function(){m(t);let r=p();return c(r.sendEditRequest())}),e(1,"i",14),a("click",function(){m(t);let r=p();return c(r.openEditForm=!1)}),i(),e(2,"h2",15),n(3,"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0646\u0648\u0639"),i(),e(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),n(8,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0639\u0631\u0628\u064A"),e(9,"span",6),n(10,"(\u0645\u0637\u0644\u0648\u0628)"),i(),e(11,"span"),n(12,"*"),i()(),e(13,"input",16),a("input",function(r){m(t);let l=p();return c(l.allowArabicOnly(r))}),i()()(),e(14,"div",3)(15,"div",4)(16,"label",8),n(17,"k\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0646\u062C\u0644\u064A\u0632\u064A"),e(18,"span",6),n(19,"(\u0645\u0637\u0644\u0648\u0628)"),i(),e(20,"span"),n(21,"*"),i()(),e(22,"input",17),a("input",function(r){m(t);let l=p();return c(l.allowEnglishOnly(r))}),i()()(),e(23,"button",10),n(24,"\u0627\u0631\u0633\u0627\u0644"),i()()(),E(25,"div",18)}if(s&2){let t=p();y("formGroup",t.editForm)}}function R(s,u){if(s&1){let t=h();e(0,"tr")(1,"td"),n(2),i(),e(3,"td")(4,"button",19),a("click",function(){let r=m(t).$implicit,l=p();return c(l.editType(r.id,r))}),n(5," \u062A\u0639\u062F\u064A\u0644 "),i(),e(6,"button",20),a("click",function(){let r=m(t),l=r.$implicit,I=r.$index,$=p();return c($.deleteType(I,l.id))}),n(7," \u062D\u0630\u0641 "),i()()()}if(s&2){let t=u.$implicit;_(2),F(t.arName)}}var q=class s{constructor(u,t){this._typeService=u;this.toast=t}types=[];openEditForm=!1;typesForm=new C({enName:new d("",f.required),arName:new d("",f.required)});editForm=new C({id:new d(""),enName:new d("",f.required),arName:new d("",f.required)});ngOnInit(){this.gettypes()}addType(){this.typesForm.valid?(this.types.push(this.typesForm.value),console.log(this.typesForm.value),this._typeService.addProjecttype(this.typesForm.value).subscribe({next:u=>{this.toast.success("\u062A\u0645\u062A \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062C\u0627\u062D"),this.typesForm.reset()},error:u=>{u.status==401?this.toast.error("\u0627\u0646\u062A\u0647\u062A \u0627\u0644\u062C\u0644\u0633\u0629 \u0633\u062C\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u064A"):this.toast.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627")},complete:()=>{location.reload()}})):this.toast.error("\u0628\u0639\u0636 \u0627\u0644\u062D\u0642\u0648\u0644 \u0641\u0627\u0631\u063A\u0629")}gettypes(){this._typeService.getALltype().subscribe(u=>{this.types=u})}editType(u,t){this.openEditForm=!0,this.editForm.patchValue({id:t.id,enName:t.enName,arName:t.arName})}sendEditRequest(){this.editForm.valid?this._typeService.edittype(this.editForm.value).subscribe({next:u=>{this.toast.success("\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062D\u0627\u0644\u0629")},error:u=>{u.status==401?this.toast.error("\u0627\u0646\u062A\u0647\u062A \u0627\u0644\u062C\u0644\u0633\u0629 \u0633\u062C\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u064A"):this.toast.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627")},complete:()=>{setTimeout(()=>{window.location.reload()},1e3)}}):this.toast.error("\u0628\u0639\u0636 \u0627\u0644\u062D\u0642\u0648\u0644 \u0641\u0627\u0631\u063A\u0629")}deleteType(u,t){this._typeService.deleteType(t).subscribe({next:o=>{this.types.splice(u,1),this.toast.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062D\u0627\u0644\u0629 \u0628\u0646\u062C\u0627\u062D")},error:o=>{o.status==401?this.toast.error("\u0627\u0646\u062A\u0647\u062A \u0627\u0644\u062C\u0644\u0633\u0629 \u0633\u062C\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u064A"):this.toast.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0645\u0627")}})}allowEnglishOnly(u){let t=u.target;t.value=t.value.replace(/[^a-zA-Z0-9 ]/g,"")}allowArabicOnly(u){let t=u.target;t.value=t.value.replace(/[^ุก-ู\s\u0621-\u064A]/g,"")}static \u0275fac=function(t){return new(t||s)(x(D),x(G))};static \u0275cmp=b({type:s,selectors:[["app-project-type"]],standalone:!0,features:[A],decls:38,vars:2,consts:[[1,"container","dash_table"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","col-12"],[1,"form-group"],["for","artitle"],[1,"requierd"],["type","text","id","artitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637","formControlName","arName",1,"form-control",3,"input"],["for","entitle"],["type","text","id","entitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A\u0629 \u0641\u0642\u0637","formControlName","enName",1,"form-control",3,"input"],[1,"dash_btn"],[1,"mt-5"],[1,"project-table"],[1,"hidden_form",3,"ngSubmit","formGroup"],[1,"fas","fa-xmark","close",3,"click"],[1,"text-center"],["autocomplete","off","type","text","id","artitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629 \u0641\u0642\u0637","formControlName","arName",1,"form-control",3,"input"],["autocomplete","off","type","text","id","entitle","placeholder","\u0627\u0644\u0627\u062F\u062E\u0627\u0644 \u0628\u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A\u0629 \u0641\u0642\u0637","formControlName","enName",1,"form-control",3,"input"],[1,"lay"],[1,"edit-btn",3,"click"],[1,"delete",3,"click"]],template:function(t,o){t&1&&(e(0,"div",0)(1,"h2"),n(2,"\u0627\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0645\u0634\u0631\u0648\u0639"),i(),e(3,"form",1),a("ngSubmit",function(){return o.addType()}),e(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),n(8,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0639\u0631\u0628\u064A"),e(9,"span",6),n(10,"(\u0645\u0637\u0644\u0648\u0628)"),i(),e(11,"span"),n(12,"*"),i()(),e(13,"input",7),a("input",function(l){return o.allowArabicOnly(l)}),i()()(),e(14,"div",3)(15,"div",4)(16,"label",8),n(17,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0627\u0646\u062C\u0644\u064A\u0632\u064A"),e(18,"span",6),n(19,"(\u0645\u0637\u0644\u0648\u0628)"),i(),e(20,"span"),n(21,"*"),i()(),e(22,"input",9),a("input",function(l){return o.allowEnglishOnly(l)}),i()()(),e(23,"button",10),n(24,"\u0627\u0631\u0633\u0627\u0644"),i()()(),g(25,z,26,1),e(26,"h2",11),n(27,"\u0627\u0644\u062D\u0627\u0644\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629"),i(),e(28,"table",12)(29,"thead")(30,"tr")(31,"th"),n(32,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0627\u0644\u0629"),i(),e(33,"th"),n(34,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),i()()(),e(35,"tbody"),T(36,R,8,1,"tr",null,S),i()()()),t&2&&(_(3),y("formGroup",o.typesForm),_(22),v(o.openEditForm?25:-1),_(11),w(o.types))},dependencies:[M,V,P,j,N,O,k],styles:[".form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#333}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ccc;border-radius:6px;font-size:15px;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 2px #007bff1a}.hidden_form[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%,-50%);background:#fff;box-shadow:var(--shadow);border-radius:15px;padding:15px 25px;width:50%;height:300px;z-index:5}.lay[_ngcontent-%COMP%]{position:fixed;z-index:3;background:#0000008c;top:0;left:0;width:100%;height:100vh}.close[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;color:var(--blue);cursor:pointer}"]})};export{q as ProjectTypeComponent};
